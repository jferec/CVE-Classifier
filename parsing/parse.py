#Przyjmuje nazwe pliku, usuwany jest nr rekordu w bazie danych i sa dzielone slowa zawierajÄ…ce '_' nie majace
#w nazwie cyfr. Wynik jest zapisywany do innego pliku.


def parse_file(file_name):
    input_file = open('../text_files/' + file_name, 'r')
    output_file = open('../text_files/' + 'parsed_file', 'a')
    file_content = input_file.read()
    lines = file_content.splitlines()
    for line in lines:
        line = line.split()
        for i, word in enumerate(line):
            if 'CVE-' in word:
                del line[i]
            if '_' in word and not has_number(word):
                line[i] = word.replace("_", " ")

        line = " ".join(line)
        output_file.write(line + "\n")
    output_file.close()


#Sprawdza czy str zawiera cyfry
def has_number(inputString):
    return any(char.isdigit() for char in inputString)

#Test


parse_file('dict2007-5.txt')
parse_file('dict2008-5.txt')
